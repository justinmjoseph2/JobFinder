{% extends 'base.html' %}
{% block content %}
{% load static %}

<!-- Online CV Area Start -->
<div class="online-cv cv-bg section-overly pt-90 pb-120" data-background="{% static 'assets/img/gallery/cv_bg.jpg' %}">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-xl-6">
                <div class="cv-caption text-center">
                    <p class="pera2">FIND THE BEST JOB</p>
                    <p class="pera1">Upload your resume and find the best jobs that suit your skills and improve your resume with tips and tricks!</p>
                    <!-- Upload Resume Form -->
                    <form method="post" enctype="multipart/form-data" class="upload-form">
                        {% csrf_token %}
                        <label for="resume-upload" id="resume-label" class="upload-btn">
                            <input type="file" id="resume-upload" name="resume" accept=".pdf,.doc,.docx" required hidden>
                            <span id="file-name" class="button-text">Choose File</span>
                        </label>
                        <button type="submit" class="upload-btn">Upload</button>
                    </form>
                    
                    <style>
                        /* Common button styling */
                        .upload-btn {
                            display: inline-block;
                            padding: 10px 20px;
                            border: 2px solid #fb246a;
                            border-radius: 5px;
                            background-color: #fb246a;
                            color: #fff;
                            font-size: 16px;
                            font-weight: bold;
                            cursor: pointer;
                            text-align: center;
                            transition: background-color 0.3s ease, border-color 0.3s ease;
                            text-transform: uppercase;
                            margin: 0 5px; /* Space between buttons */
                        }
                    
                        .upload-btn:hover {
                            background-color: #dc3545;
                            border-color: #dc3545;
                        }
                    
                        #resume-label.file-selected {
                            background-color: #4caf50; /* Green background for selected file */
                            border-color: #4caf50; /* Green border for selected file */
                        }
                    
                        #file-name.file-selected {
                            color: #fff; /* White text for selected file */
                        }
                    </style>
                    
                    <script>
                        document.addEventListener('DOMContentLoaded', function() {
                            const fileInput = document.getElementById('resume-upload');
                            const fileLabel = document.getElementById('resume-label');
                            const fileName = document.getElementById('file-name');
                    
                            fileInput.addEventListener('change', function() {
                                const file = fileInput.files[0];
                    
                                if (file) {
                                    fileName.textContent = file.name;
                                    fileLabel.classList.add('file-selected');
                                } else {
                                    fileName.textContent = 'Choose File';
                                    fileLabel.classList.remove('file-selected');
                                }
                            });
                        });
                    </script>
                    
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Online CV Area End -->

<!-- Featured Job Area Start -->
<section class="featured-job-area feature-padding" hidden>
    <div class="container">
        <!-- Section Title -->
        <div class="row">
            <div class="col-lg-12">
                <div class="section-tittle text-center">
                    <span>Recent Job</span>
                    <h2>Featured Jobs</h2>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-xl-10">
                {% if suitable_jobs %}
                    <!-- Display suitable jobs -->
                    {% for job in suitable_jobs %}
                    <div class="single-job-items mb-30">
                        <div class="job-items">
                            <div class="company-img">
                                <a href="{% url 'job_details' job.id %}"><img src="{% static 'assets/img/icon/job-list1.png' %}" alt=""></a>
                            </div>
                            <div class="job-tittle">
                                <a href="{% url 'job_details' job.id %}"><h4>{{ job.title }}</h4></a>
                                <ul>
                                    <li>{{ job.company }}</li>
                                    <li><i class="fas fa-map-marker-alt"></i>{{ job.location }}</li>
                                    <li>{{ job.salary_range }}</li>
                                </ul>
                            </div>
                        </div>
                        <div class="items-link f-right">
                            <a href="{% url 'job_details' job.id %}">{{ job.job_type }}</a>
                            <span>{{ job.posted_time }}</span>
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                    <p>No suitable jobs found based on your resume.</p>
                {% endif %}
            </div>
        </div>
    </div>
</section>
<!-- Featured Job Area End -->

{% endblock %}
<style>

</style>